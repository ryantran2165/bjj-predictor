(this["webpackJsonpbjj-predictor"]=this["webpackJsonpbjj-predictor"]||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),i=a.n(l),c=a(2),o=a(1),s=a.n(o),m=a(3),h=a(6),u=a(7),d=a(9),f=a(8),g=function(e){var t=e.text;return r.a.createElement("h1",null,t)};g.defaultProps={text:"Default Title"};var E=g,p=function(e){var t=e.text;return r.a.createElement("h5",null,t.split("\n").map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"".concat(e,"-").concat(t)},e,r.a.createElement("br",null))})))};p.defaultProps={text:"Default description"};var b=p,v=function(e){var t=e.value,a=e.onClick;return r.a.createElement("input",{className:"btn btn-primary btn-lg",type:"button",value:t,onClick:a})};v.defaultProps={value:"Default value"};var w=v,y=function(e){var t=e.fighters,a=e.onChange,n=e.id;return r.a.createElement("select",{style:{width:"100%"},onChange:a,id:n},t.map((function(e){var t=e.id,a=e.first_name,n=e.nickname,l=e.last_name,i=e.team;return r.a.createElement("option",{key:t},a,n?' "'+n+'"':""," "+l,i?", "+i:"")})))};y.defaultProps={fighters:[]};var N=y,j=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getFighters()},n.getFighters=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://bjj.ryanlongtran.com/fighters",e.next=3,fetch("https://bjj.ryanlongtran.com/fighters");case 3:e.sent.json().then((function(e){e.sort((function(e,t){return e.first_name.localeCompare(t.first_name)})),n.setState({fighters:e,fighter1:e[0],fighter2:e[0]}),console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),n.handleSelect=function(e){var t;n.setState((t={},Object(c.a)(t,e.target.id,n.state.fighters[e.target.selectedIndex]),Object(c.a)(t,"shouldShowPrediction",!1),t))},n.predict=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.target.blur(),a="https://bjj.ryanlongtran.com/predict?id_1="+n.state.fighter1.id+"&id_2="+n.state.fighter2.id,e.next=4,fetch(a);case 4:e.sent.json().then((function(e){n.setState({prediction:e,shouldShowPrediction:!0})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getFighterInfo=function(e){var t=r.a.createElement(r.a.Fragment,null);if(e){var a=e.first_name,n=e.nickname,l=e.last_name,i=e.team,c=e.wins,o=e.wins_by_sub,s=e.losses,m=e.losses_by_sub,h=c>0?(o/c*100).toFixed(1):0,u=s>0?(m/s*100).toFixed(1):0,d=(100*c/(c+s)).toFixed(1);t=r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.bjjheroes.com/bjj-fighters/?p="+e.id},r.a.createElement("h4",{className:"font-weight-bold"},a,n?' "'+n+'"':""," "+l)),r.a.createElement("h5",null,i||""),r.a.createElement("h5",null,c," wins, ",o," by submission (",h,"%)"),r.a.createElement("h5",null,s," losses, ",m," by submission (",u,"%)"),r.a.createElement("h5",null,d,"% win rate"))}return t},n.getFighterNameStr=function(e){return e.first_name+(e.nickname?' "'+e.nickname+'"':"")+" "+e.last_name},n.getFighterLink=function(e){return r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.bjjheroes.com/bjj-fighters/?p="+e.id},n.getFighterNameStr(e))},n.getPredictionInfo=function(){var e=r.a.createElement("div",{className:"pb-5"});if(n.state.shouldShowPrediction){var t,a=n.state.prediction.vs_history,l=parseFloat(n.state.prediction.win_by_sub),i=parseFloat(n.state.prediction.win_by_other),c=l+i,o=parseFloat(n.state.prediction.loss_by_sub),s=parseFloat(n.state.prediction.loss_by_other),m=o+s,h=parseFloat(n.state.prediction.draw);if(h>=c&&h>=m)t=r.a.createElement(r.a.Fragment,null,"DRAW (the following probabilities are for"," ",n.getFighterLink(n.state.fighter1),")");else if(c>m)t=n.getFighterLink(n.state.fighter1);else{t=n.getFighterLink(n.state.fighter2);var u=c;c=m,m=u,u=l,l=o,o=u,u=i,i=s,s=u}c=(100*c).toFixed(1),l=(100*l).toFixed(1),i=(100*i).toFixed(1),m=(100*m).toFixed(1),o=(100*o).toFixed(1),s=(100*s).toFixed(1),h=(100*h).toFixed(1);var d=r.a.createElement(r.a.Fragment,null);a.length>0&&(a.sort((function(e,t){return e.year.localeCompare(t.year)})),d=a.map((function(e){var t;return t="W"===e.win_loss?n.getFighterLink(n.state.fighter1):"L"===e.win_loss?n.getFighterLink(n.state.fighter2):"DRAW",r.a.createElement("tr",{key:e.competition+e.year},r.a.createElement("td",null,t),r.a.createElement("td",null,e.method),r.a.createElement("td",null,e.competition),r.a.createElement("td",null,e.weight),r.a.createElement("td",null,e.stage),r.a.createElement("td",null,e.year))}))),e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center pt-5"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"font-weight-bold"},"Winner: ",t))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",null,"Probability of draw: ",h,"%"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col col-lg-6 col-12"},r.a.createElement("h5",null,"Overall probability of winning: ",c,"%"),r.a.createElement("h5",null,"Probability of winning by submission: ",l,"%"),r.a.createElement("h5",null,"Probability of winning by other means: ",i,"%")),r.a.createElement("div",{className:"col col-lg-6 col-12"},r.a.createElement("h5",null,"Overall probability of losing: ",m,"%"),r.a.createElement("h5",null,"Probability of losing by submission: ",o,"%"),r.a.createElement("h5",null,"Probability of losing by other means: ",s,"%"))),r.a.createElement("div",{className:"row justify-content-center pt-5 pb-5"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-striped table-hover text-left"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Winner"),r.a.createElement("th",null,"Method"),r.a.createElement("th",null,"Competition"),r.a.createElement("th",null,"Weight"),r.a.createElement("th",null,"Stage"),r.a.createElement("th",null,"Year"))),r.a.createElement("tbody",null,d))))))}return e},n.state={fighters:[],fighter1:null,fighter2:null,prediction:null,shouldShowPrediction:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App container text-center pt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(E,{text:"BJJ Predictor"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(b,{text:"Choose two fighters and predict who would win in a BJJ match!"}))),r.a.createElement("div",{className:"row justify-content-center pt-5"},r.a.createElement("div",{className:"col col-lg-4 col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(N,{fighters:this.state.fighters,onChange:this.handleSelect,id:"fighter1"}))),r.a.createElement("div",{className:"row pt-3"},r.a.createElement("div",{className:"col"},this.getFighterInfo(this.state.fighter1)))),r.a.createElement("div",{className:"col col-lg-1 col-12 align-self-center"},r.a.createElement("h1",{className:"font-weight-bold"},"VS")),r.a.createElement("div",{className:"col col-lg-4 col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(N,{fighters:this.state.fighters,onChange:this.handleSelect,id:"fighter2"}))),r.a.createElement("div",{className:"row pt-3"},r.a.createElement("div",{className:"col"},this.getFighterInfo(this.state.fighter2))))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col"},r.a.createElement(w,{value:"Predict",onClick:this.predict}))),this.getPredictionInfo())}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(16),a(17);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.25fd8eb1.chunk.js.map