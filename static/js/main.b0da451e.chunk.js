(this["webpackJsonpbjj-predictor"]=this["webpackJsonpbjj-predictor"]||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),i=a.n(l),c=a(2),s=a(1),o=a.n(s),m=a(3),h=a(6),u=a(7),d=a(10),f=a(9),g=function(e){var t=e.text;return r.a.createElement("h1",null,t)};g.defaultProps={text:"Default Title"};var E=g,p=function(e){var t=e.text;return r.a.createElement("h5",null,t.split("\n").map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"".concat(e,"-").concat(t)},e,r.a.createElement("br",null))})))};p.defaultProps={text:"Default description"};var v=p,b=function(e){var t=e.value,a=e.onClick;return r.a.createElement("input",{className:"btn btn-primary btn-lg",type:"button",value:t,onClick:a})};b.defaultProps={value:"Default value"};var w=b,y=function(e){var t=e.fighters,a=e.onChange,n=e.id;return r.a.createElement("select",{style:{width:"100%"},onChange:a,id:n},t.map((function(e){var t=e.id,a=e.first_name,n=e.nickname,l=e.last_name,i=e.team;return r.a.createElement("option",{key:t},a,n?' "'+n+'"':""," "+l,i?", "+i:"")})))};y.defaultProps={fighters:[]};var N=y,j=a(8),F=a.n(j),k=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getFighters()},n.getFighters=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://bjj.ryanlongtran.com/fighters",e.next=3,fetch("https://bjj.ryanlongtran.com/fighters");case 3:e.sent.json().then((function(e){e.sort((function(e,t){return e.first_name.localeCompare(t.first_name)})),n.setState({fighters:e,fighter1:e[0],fighter2:e[0]})}));case 5:case"end":return e.stop()}}),e)}))),n.handleSelect=function(e){var t;n.setState((t={},Object(c.a)(t,e.target.id,n.state.fighters[e.target.selectedIndex]),Object(c.a)(t,"shouldShowPrediction",!1),t))},n.predict=function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.target.blur(),a="https://bjj.ryanlongtran.com/predict?id_1="+n.state.fighter1.id+"&id_2="+n.state.fighter2.id,e.next=4,fetch(a);case 4:e.sent.json().then((function(e){n.setState({prediction:e,shouldShowPrediction:!0})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getFighterInfo=function(e){var t=r.a.createElement(r.a.Fragment,null);if(e){var a=e.first_name,n=e.nickname,l=e.last_name,i=e.team,c=e.wins,s=e.wins_by_sub,o=e.losses,m=e.losses_by_sub,h=c>0?(s/c*100).toFixed(1):0,u=o>0?(m/o*100).toFixed(1):0,d=(100*c/(c+o)).toFixed(1);t=r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.bjjheroes.com/bjj-fighters/?p="+e.id},r.a.createElement("h4",{className:"font-weight-bold"},a,n?' "'+n+'"':""," "+l)),r.a.createElement("h5",null,i||""),r.a.createElement("h5",null,c," wins, ",s," by submission (",h,"%)"),r.a.createElement("h5",null,o," losses, ",m," by submission (",u,"%)"),r.a.createElement("h5",null,d,"% win rate"))}return t},n.getFighterNameStr=function(e){return e.first_name+(e.nickname?' "'+e.nickname+'"':"")+" "+e.last_name},n.getFighterLink=function(e){return r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.bjjheroes.com/bjj-fighters/?p="+e.id},n.getFighterNameStr(e))},n.getPredictionInfo=function(){var e=r.a.createElement("div",{className:"pb-5"});if(n.state.shouldShowPrediction){var t,a=n.state.prediction.vs_history,l=parseFloat(n.state.prediction.win_by_sub),i=parseFloat(n.state.prediction.win_by_other),c=l+i,s=parseFloat(n.state.prediction.loss_by_sub),o=parseFloat(n.state.prediction.loss_by_other),m=s+o,h=parseFloat(n.state.prediction.draw);if(h>=c&&h>=m)t=r.a.createElement(r.a.Fragment,null,"DRAW (the following probabilities are for"," ",n.getFighterLink(n.state.fighter1),")");else if(c>m)t=n.getFighterLink(n.state.fighter1);else{t=n.getFighterLink(n.state.fighter2);var u=c;c=m,m=u,u=l,l=s,s=u,u=i,i=o,o=u}c=(100*c).toFixed(1),l=(100*l).toFixed(1),i=(100*i).toFixed(1),m=(100*m).toFixed(1),s=(100*s).toFixed(1),o=(100*o).toFixed(1),h=(100*h).toFixed(1);var d,f=0,g=0,E=0,p=r.a.createElement(r.a.Fragment,null);a.length>0&&(a.sort((function(e,t){return e.year.localeCompare(t.year)})),p=a.map((function(e){var t;return"W"===e.win_loss?(t=n.getFighterLink(n.state.fighter1),f++):"L"===e.win_loss?(t=n.getFighterLink(n.state.fighter2),g++):(t="DRAW",E++),r.a.createElement("tr",{key:e.competition+e.year},r.a.createElement("td",null,t),r.a.createElement("td",null,e.method),r.a.createElement("td",null,e.competition),r.a.createElement("td",null,e.weight),r.a.createElement("td",null,e.stage),r.a.createElement("td",null,e.year))}))),d=0===a.length?"No VS history":f===g?"Fighters are tied "+f+"-"+g+"-"+E+" (W-L-D)":r.a.createElement("span",null,n.getFighterLink(f>g?n.state.fighter1:n.state.fighter2)," ","leads"," ",n.getFighterLink(f>g?n.state.fighter2:n.state.fighter1)," ",f>g?f:g,"-",f>g?g:f,"-",E," (W-L-D)"),e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center pt-5"},r.a.createElement("div",{className:"col"},r.a.createElement("h4",{className:"font-weight-bold"},"Winner: ",t))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col col-lg-6 col-12"},r.a.createElement("h5",null,"P(win): ",c,"%"),r.a.createElement("h5",null,"P(win by submission): ",l,"%"),r.a.createElement("h5",null,"P(win by other): ",i,"%")),r.a.createElement("div",{className:"col col-lg-6 col-12"},r.a.createElement("h5",null,"P(lose): ",m,"%"),r.a.createElement("h5",null,"P(lose by submission): ",s,"%"),r.a.createElement("h5",null,"P(lose by other): ",o,"%"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",null,"P(draw): ",h,"%"))),r.a.createElement("div",{className:"row justify-content-center pt-5 pb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",null,d))),r.a.createElement("div",{className:"row justify-content-center pb-5"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-striped table-hover text-left"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Winner"),r.a.createElement("th",null,"Method"),r.a.createElement("th",null,"Competition"),r.a.createElement("th",null,"Weight"),r.a.createElement("th",null,"Stage"),r.a.createElement("th",null,"Year"))),r.a.createElement("tbody",null,p))))))}return e},n.state={fighters:[],fighter1:null,fighter2:null,prediction:null,shouldShowPrediction:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App container text-center pt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(E,{text:"BJJ Predictor"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(v,{text:"Choose two fighters and predict who would win in a BJJ match!"}))),r.a.createElement("div",{className:"row justify-content-center pt-5"},r.a.createElement("div",{className:"col col-lg-4 col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(N,{fighters:this.state.fighters,onChange:this.handleSelect,id:"fighter1"}))),r.a.createElement("div",{className:"row pt-3"},r.a.createElement("div",{className:"col"},this.getFighterInfo(this.state.fighter1)))),r.a.createElement("div",{className:"col col-lg-1 col-12 align-self-center"},r.a.createElement("h1",{className:"font-weight-bold"},"VS")),r.a.createElement("div",{className:"col col-lg-4 col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(N,{fighters:this.state.fighters,onChange:this.handleSelect,id:"fighter2"}))),r.a.createElement("div",{className:"row pt-3"},r.a.createElement("div",{className:"col"},this.getFighterInfo(this.state.fighter2))))),r.a.createElement("div",{className:"row justify-content-center pt-3"},r.a.createElement("div",{className:"col"},r.a.createElement(w,{value:"Predict",onClick:this.predict}))),this.getPredictionInfo(),r.a.createElement(F.a,{href:"https://github.com/ryantran2165/bjj-predictor",bannerColor:"#222",octoColor:"#7fffd4",target:"_blank"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(18),a(19);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.b0da451e.chunk.js.map